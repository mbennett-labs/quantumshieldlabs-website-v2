<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QSL Contact Form - Formspree Integration</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            background: linear-gradient(to bottom, #0f172a, #000);
            color: white;
            font-family: 'Inter', sans-serif;
        }
        
        .form-error {
            border-color: #ef4444 !important;
            box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.1) !important;
        }
        
        .form-success {
            border-color: #10b981 !important;
            box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1) !important;
        }
        
        .shake {
            animation: shake 0.5s ease-in-out;
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="p-8">
    <div class="max-w-4xl mx-auto">
        <h1 class="text-3xl font-bold text-center mb-8">
            <i class="fas fa-shield-alt text-blue-500 mr-3"></i>
            QSL Contact Form - Formspree Integration
        </h1>
        
        <!-- Contact Section -->
        <section id="contact" class="py-20">
            <div class="container mx-auto px-4">
                <h2 class="text-3xl md:text-4xl font-bold text-center mb-6">Contact Us</h2>
                <p class="text-center text-gray-300 mb-6 max-w-3xl mx-auto">
                    Interested in our early access program? Get in touch with our team to discuss your security needs.
                </p>
                <div class="text-center max-w-3xl mx-auto bg-blue-900 bg-opacity-10 rounded-lg p-4 mb-12">
                    <i class="fas fa-info-circle text-blue-400 mr-2"></i>
                    <span class="text-blue-300">Currently accepting a limited number of early access partnerships.</span>
                </div>
                
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 max-w-5xl mx-auto">
                    <!-- Contact Info -->
                    <div class="space-y-8">
                        <div class="flex items-start space-x-4">
                            <div class="p-3 bg-blue-500 bg-opacity-10 rounded-lg">
                                <i class="fas fa-phone text-blue-500 text-xl"></i>
                            </div>
                            <div>
                                <h3 class="text-xl font-semibold mb-2">Phone</h3>
                                <p class="text-gray-300">(240) 659-8286</p>
                            </div>
                        </div>
                        
                        <div class="flex items-start space-x-4">
                            <div class="p-3 bg-blue-500 bg-opacity-10 rounded-lg">
                                <i class="fas fa-envelope text-blue-500 text-xl"></i>
                            </div>
                            <div>
                                <h3 class="text-xl font-semibold mb-2">Email</h3>
                                <p class="text-gray-300">michael@quantumshieldlabs.dev</p>
                            </div>
                        </div>

                        <div class="flex items-start space-x-4">
                            <div class="p-3 bg-blue-500 bg-opacity-10 rounded-lg">
                                <i class="fas fa-map-marker-alt text-blue-500 text-xl"></i>
                            </div>
                            <div>
                                <h3 class="text-xl font-semibold mb-2">Location</h3>
                                <p class="text-gray-300">6814 Westmoreland Ave<br>Takoma Park, Maryland 20912</p>
                            </div>
                        </div>
                        
                        <!-- Business Hours -->
                        <div class="mt-8 bg-gray-800 bg-opacity-20 rounded-lg p-6">
                            <h3 class="text-xl font-semibold mb-4">Business Hours</h3>
                            <ul class="space-y-2 text-gray-300">
                                <li class="flex justify-between">
                                    <span>Monday - Friday:</span>
                                    <span>9:00 AM - 6:00 PM EST</span>
                                </li>
                                <li class="flex justify-between">
                                    <span>Saturday:</span>
                                    <span>10:00 AM - 4:00 PM EST</span>
                                </li>
                                <li class="flex justify-between">
                                    <span>Sunday:</span>
                                    <span>Closed</span>
                                </li>
                            </ul>
                        </div>
                    </div>

                    <!-- Early Access Form with Formspree -->
                    <div class="bg-gray-900 bg-opacity-20 backdrop-blur-lg rounded-xl p-6 shadow-lg">
                        <div class="mb-6 bg-blue-900 bg-opacity-20 rounded-lg p-4 border-l-4 border-blue-500">
                            <h3 class="font-semibold text-lg mb-2">Early Access Application</h3>
                            <p class="text-gray-300 text-sm">
                                We're selectively accepting early access partners while we prepare for our full launch. 
                                Tell us about your organization's security needs below.
                            </p>
                        </div>
                        
                        <!-- Status Messages -->
                        <div id="form-messages" class="mb-4"></div>
                        
                        <!-- REPLACE 'YOUR_FORM_ID' WITH YOUR ACTUAL FORMSPREE FORM ID -->
                        <form 
                            action="https://formspree.io/f/YOUR_FORM_ID" 
                            method="POST" 
                            class="space-y-6" 
                            id="contact-form"
                        >
                            <!-- Hidden fields for Formspree -->
                            <input type="hidden" name="_subject" value="QSL Early Access Application">
                            <input type="hidden" name="_next" value="thank-you">
                            <input type="hidden" name="_captcha" value="false">
                            
                            <div>
                                <label for="name" class="block text-sm font-medium mb-2">Name *</label>
                                <input
                                    id="name"
                                    name="name"
                                    type="text"
                                    required
                                    class="w-full px-4 py-3 bg-gray-800 bg-opacity-50 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-300"
                                    placeholder="Your name"
                                />
                                <div class="error-message text-red-400 text-sm mt-1 hidden"></div>
                            </div>
                            
                            <div>
                                <label for="email" class="block text-sm font-medium mb-2">Email *</label>
                                <input
                                    id="email"
                                    name="email"
                                    type="email"
                                    required
                                    class="w-full px-4 py-3 bg-gray-800 bg-opacity-50 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-300"
                                    placeholder="your@email.com"
                                />
                                <div class="error-message text-red-400 text-sm mt-1 hidden"></div>
                            </div>
                            
                            <div>
                                <label for="company" class="block text-sm font-medium mb-2">Company</label>
                                <input
                                    id="company"
                                    name="company"
                                    type="text"
                                    class="w-full px-4 py-3 bg-gray-800 bg-opacity-50 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-300"
                                    placeholder="Your organization"
                                />
                                <div class="error-message text-red-400 text-sm mt-1 hidden"></div>
                            </div>
                            
                            <div>
                                <label for="message" class="block text-sm font-medium mb-2">Security Needs *</label>
                                <textarea
                                    id="message"
                                    name="message"
                                    required
                                    class="w-full px-4 py-3 bg-gray-800 bg-opacity-50 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 h-32 transition-all duration-300"
                                    placeholder="Briefly describe your security challenges and requirements"
                                ></textarea>
                                <div class="error-message text-red-400 text-sm mt-1 hidden"></div>
                            </div>
                            
                            <button
                                type="submit"
                                id="submit-btn"
                                class="w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-semibold transition-all duration-300 transform hover:scale-105"
                            >
                                <span id="btn-text">Apply for Early Access</span>
                                <i id="btn-spinner" class="fas fa-spinner fa-spin ml-2 hidden"></i>
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <script>
        class FormspreeContactForm {
            constructor() {
                this.form = document.getElementById('contact-form');
                this.submitBtn = document.getElementById('submit-btn');
                this.btnText = document.getElementById('btn-text');
                this.btnSpinner = document.getElementById('btn-spinner');
                this.messagesContainer = document.getElementById('form-messages');
                
                this.init();
            }
            
            init() {
                // Form submission handler
                this.form.addEventListener('submit', (e) => this.handleSubmit(e));
                
                // Real-time validation
                const inputs = this.form.querySelectorAll('input, textarea');
                inputs.forEach(input => {
                    input.addEventListener('blur', () => this.validateField(input));
                    input.addEventListener('input', () => this.clearFieldError(input));
                });
            }
            
            async handleSubmit(e) {
                e.preventDefault();
                
                // Clear previous messages
                this.clearMessages();
                
                // Validate all fields
                if (!this.validateForm()) {
                    this.showError('Please fix the errors above and try again.');
                    return;
                }
                
                // Show loading state
                this.setLoadingState(true);
                
                try {
                    // Submit to Formspree
                    const response = await fetch(this.form.action, {
                        method: 'POST',
                        body: new FormData(this.form),
                        headers: {
                            'Accept': 'application/json'
                        }
                    });
                    
                    if (response.ok) {
                        this.showSuccess();
                        this.form.reset();
                        this.clearAllFieldStates();
                    } else {
                        const data = await response.json();
                        if (data.errors) {
                            this.handleFormspreeErrors(data.errors);
                        } else {
                            throw new Error('Form submission failed');
                        }
                    }
                    
                } catch (error) {
                    console.error('Form submission error:', error);
                    this.showError('There was an error sending your message. Please try again or contact us directly at michael@quantumshieldlabs.dev');
                } finally {
                    this.setLoadingState(false);
                }
            }
            
            validateForm() {
                const requiredFields = this.form.querySelectorAll('[required]');
                let isValid = true;
                
                requiredFields.forEach(field => {
                    if (!this.validateField(field)) {
                        isValid = false;
                    }
                });
                
                return isValid;
            }
            
            validateField(field) {
                const value = field.value.trim();
                let isValid = true;
                let errorMessage = '';
                
                // Required field validation
                if (field.hasAttribute('required') && !value) {
                    errorMessage = `${this.getFieldLabel(field)} is required.`;
                    isValid = false;
                }
                
                // Email validation
                if (field.type === 'email' && value) {
                    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                    if (!emailRegex.test(value)) {
                        errorMessage = 'Please enter a valid email address.';
                        isValid = false;
                    }
                }
                
                // Minimum length for message
                if (field.name === 'message' && value && value.length < 10) {
                    errorMessage = 'Please provide more details (at least 10 characters).';
                    isValid = false;
                }
                
                this.showFieldError(field, errorMessage);
                return isValid;
            }
            
            handleFormspreeErrors(errors) {
                errors.forEach(error => {
                    if (error.field) {
                        const field = this.form.querySelector(`[name="${error.field}"]`);
                        if (field) {
                            this.showFieldError(field, error.message);
                        }
                    }
                });
                
                this.showError('Please fix the errors above and try again.');
            }
            
            getFieldLabel(field) {
                const label = this.form.querySelector(`label[for="${field.id}"]`);
                return label ? label.textContent.replace('*', '').trim() : field.name;
            }
            
            showFieldError(field, message) {
                const errorDiv = field.parentNode.querySelector('.error-message');
                
                if (message) {
                    field.classList.add('form-error');
                    field.classList.remove('form-success');
                    errorDiv.textContent = message;
                    errorDiv.classList.remove('hidden');
                    field.parentNode.classList.add('shake');
                    setTimeout(() => field.parentNode.classList.remove('shake'), 500);
                } else {
                    field.classList.remove('form-error');
                    if (field.value.trim()) {
                        field.classList.add('form-success');
                    }
                    errorDiv.classList.add('hidden');
                }
            }
            
            clearFieldError(field) {
                if (field.value.trim()) {
                    field.classList.remove('form-error');
                    const errorDiv = field.parentNode.querySelector('.error-message');
                    errorDiv.classList.add('hidden');
                }
            }
            
            clearAllFieldStates() {
                const fields = this.form.querySelectorAll('input, textarea');
                fields.forEach(field => {
                    field.classList.remove('form-success', 'form-error');
                    const errorDiv = field.parentNode.querySelector('.error-message');
                    errorDiv.classList.add('hidden');
                });
            }
            
            setLoadingState(loading) {
                this.submitBtn.disabled = loading;
                
                if (loading) {
                    this.btnText.textContent = 'Sending...';
                    this.btnSpinner.classList.remove('hidden');
                    this.submitBtn.classList.add('opacity-75', 'cursor-not-allowed');
                } else {
                    this.btnText.textContent = 'Apply for Early Access';
                    this.btnSpinner.classList.add('hidden');
                    this.submitBtn.classList.remove('opacity-75', 'cursor-not-allowed');
                }
            }
            
            showSuccess() {
                this.messagesContainer.innerHTML = `
                    <div class="bg-green-900 bg-opacity-20 border border-green-500 text-green-300 px-4 py-3 rounded-lg fade-in">
                        <div class="flex items-center">
                            <i class="fas fa-check-circle mr-3 text-green-400"></i>
                            <div>
                                <h4 class="font-semibold">Message Sent Successfully!</h4>
                                <p class="text-sm">Thank you for your interest in Quantum Shield Labs. We'll get back to you within 24 hours.</p>
                            </div>
                        </div>
                    </div>
                `;
                
                // Clear success message after 10 seconds
                setTimeout(() => {
                    this.clearMessages();
                }, 10000);
            }
            
            showError(message) {
                this.messagesContainer.innerHTML = `
                    <div class="bg-red-900 bg-opacity-20 border border-red-500 text-red-300 px-4 py-3 rounded-lg fade-in">
                        <div class="flex items-center">
                            <i class="fas fa-exclamation-triangle mr-3 text-red-400"></i>
                            <div>
                                <h4 class="font-semibold">Error</h4>
                                <p class="text-sm">${message}</p>
                            </div>
                        </div>
                    </div>
                `;
            }
            
            clearMessages() {
                this.messagesContainer.innerHTML = '';
            }
        }
        
        // Initialize the contact form when the page loads
        document.addEventListener('DOMContentLoaded', () => {
            new FormspreeContactForm();
        });
    </script>
</body>
</html>
